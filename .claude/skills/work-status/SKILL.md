---
name: work-status
description: >-
  Generate markdown work status reports from bd issue data.
  Use when creating status reports, preparing for standups,
  reviewing project health, or generating progress summaries.
allowed-tools: Read, Write, Edit, Glob, Grep, Bash(bd:*), Bash(mkdir:*), Bash(date:*)
---

# Work Status Report Generator

Generate comprehensive markdown work status reports from bd issue data.

**Output:** `docs/status/YYYY-MM-DD-work-status.md`

## Options

| Option         | Default | Description                      |
| -------------- | ------- | -------------------------------- |
| `--since=Nd`   | `7d`    | Period for recently closed items |
| `--epics-only` | false   | High-level epic progress only    |
| `--no-file`    | false   | Output to chat instead of file   |

## Workflow

### 1. Collect Data

Run these bd commands (one per Bash call):

```bash
bd stats
```

```bash
bd list --json --priority=0
```

```bash
bd list --json --priority=1
```

```bash
bd ready
```

```bash
bd list --json --status=in_progress
```

```bash
bd blocked
```

```bash
bd list --json --type=epic --status=open
```

For recently closed (calculate date based on --since):

```bash
bd list --json --status=closed --closed-after=YYYY-MM-DD
```

### 2. Create Output Directory

```bash
mkdir -p docs/status
```

### 3. Generate Report

Write to `docs/status/YYYY-MM-DD-work-status.md` using the template below.

## Report Template

```markdown
# Work Status Report: YYYY-MM-DD

> Generated: YYYY-MM-DD HH:MM

## Executive Summary

| Metric               | Count |
| -------------------- | ----- |
| Open                 | X     |
| In Progress          | X     |
| Blocked              | X     |
| Ready to Work        | X     |
| Closed (last N days) | X     |

## Attention Required

### Critical (P0)

[List P0 items with ID, title, and status. If none, show "No critical items."]

### High Priority (P1)

[List P1 items with ID, title, and status. If none, show "No high priority items requiring attention."]

## Ready Work

| Priority | ID               | Type | Title      |
| -------- | ---------------- | ---- | ---------- |
| P1       | buildseason-xxxx | task | Title here |

[If none: "No work currently ready. Check blocked items below."]

## In Progress

| ID               | Title      | Assignee |
| ---------------- | ---------- | -------- |
| buildseason-xxxx | Title here | @user    |

[If none: "No work in progress."]

## Blocked

| ID               | Title      | Blocked By       |
| ---------------- | ---------- | ---------------- |
| buildseason-xxxx | Title here | buildseason-yyyy |

[If none: "No blocked items."]

## Epic Progress

| Epic                         | Progress   | Complete |
| ---------------------------- | ---------- | -------- |
| buildseason-xxxx: Epic Title | ████████░░ | 80%      |

[Show progress bar using block characters: █ for complete, ░ for remaining]

## Recently Completed (Last N Days)

| ID               | Title      | Closed     | Reason               |
| ---------------- | ---------- | ---------- | -------------------- |
| buildseason-xxxx | Title here | 2024-01-15 | Completed with tests |

[If none: "No items closed in the last N days."]

---

_Report generated by `/work-status` skill_
```

## Progress Bar Rendering

For epic progress, use block characters:

- Full block: `█` (U+2588)
- Light shade: `░` (U+2591)
- Width: 10 characters total

Example for 70%: `███████░░░`

```
0%   = ░░░░░░░░░░
10%  = █░░░░░░░░░
50%  = █████░░░░░
100% = ██████████
```

## Epic Progress Calculation

For each epic:

1. Count total child issues (dependencies where epic is blocked-by)
2. Count closed child issues
3. Calculate percentage: `closed / total * 100`

If epic has no children tracked, show "No tracked tasks" instead of bar.

## Date Handling

Get current date for filename:

```bash
date +%Y-%m-%d
```

Calculate --since date (e.g., 7 days ago):

```bash
date -v-7d +%Y-%m-%d
```

## Verification

After generating:

1. Confirm file exists at `docs/status/YYYY-MM-DD-work-status.md`
2. All sections populated with real data
3. Tables properly formatted
4. Progress bars render correctly
